# WEDM.XYZ - Web-Based Wire EDM CAM

![Version](https://img.shields.io/badge/version-0V01-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

[**WEDM.XYZ**](https://wedm.xyz) is a browser-based Computer-Aided Manufacturing (CAM) tool specifically designed for 4+1 axis Wire Electrical Discharge Machining (WEDM)

> **UI Inspiration**: The layout and user interface philosophy are heavily inspired by [CascadeStudio](https://github.com/zalo/CascadeStudio), prioritizing a clean, window-based environment for complex 3D engineering tasks.

---

## ðŸ“¸ Screenshots
![Main Interface](https://github.com/alextreseder/wedm.xyz/blob/main/public/0V01screenshot.png?raw=true)

---

## ðŸš€ Features & Scope

### ðŸ›  Core Capabilities
*   **STEP File Import**: Drag-and-drop or select `.step` / `.stp` files. The geometry is processed locally using a WASM-based OpenCascade kernel.
*   **3D Visualization**: High-performance rendering using Three.js with custom Matcap materials for clear geometry inspection. Includes orientation gizmos, grid helpers, and dynamic resizing.
*   **Configurable Layout**: Built on Golden Layout, allowing users to drag, drop, resize, and stack windows (Scene, Config, G-Code, Console) to suit their workflow.

### âš™ï¸ Machine Configuration (The "Config" Tab)
A centralized Tweakpane interface controls all aspects of the job:
*   **CAM**: Wire tension, speed, kerf diameter, pass counts, and guide heights.
*   **Spark**: Detailed EDM generator settings including Pulse On/Off time, Duty Cycle, Frequency, Peak Current, and Servo Voltage.
*   **Oscilloscope**: Real-time simulated graphs for Voltage and Current based on spark parameters.
*   **Cost**: Estimators for material and machine hourly rates.
*   **Kernel**: Dynamic control over mesh tessellation resolution (Linear Deflection) with debounced updates.

### ðŸ’» G-Code Editor
*   **Monaco Editor Integration**: A full-featured code editor (powered by VS Code's engine) for viewing and editing generated G-code.
*   **Live State Sync**: The editor is two-way bound to the application state.
*   **Theme**: Custom "Iceberg" dark theme to match the rest of the application UI.

---

## ðŸ— Architecture

The application is built on a modern React stack, emphasizing performance and separation of concerns.

> *Recommended: Add an image here generated by [jsoncrack.com](https://jsoncrack.com) using the "Copy State JSON" button in the Dev tab.*
`![State Architecture](./screenshots/state-graph.png)`

*   **State Management (Zustand)**: A "Single Source of Truth" approach. The entire project state (Params, Geometry Metadata, CAM Operations, G-Code) lives in a centralized store.
*   **Web Workers**: Heavy CAD operations (STEP parsing, tessellation) are offloaded to a dedicated Web Worker to ensure the UI remains responsive, even with complex models.
*   **Event Bus**: Decoupled communication for system-wide events (e.g., "Model Loaded").

---

## ðŸ§° Tech Stack

**Core Framework**
*   [Vite](https://vitejs.dev/) - Next Generation Frontend Tooling
*   [React](https://reactjs.org/) - UI Library
*   [TypeScript](https://www.typescriptlang.org/) - Type Safety

**3D & CAD**
*   [OpenCascade.js](https://github.com/donalffons/opencascade.js/) - WebAssembly port of the OpenCascade CAD Kernel
*   [Three.js](https://threejs.org/) - 3D Rendering Engine

**Interface**
*   [Golden Layout](https://golden-layout.com/) - Multi-window layout manager
*   [Tweakpane](https://cocopon.github.io/tweakpane/) - Compact parameter controls
*   [Monaco Editor](https://microsoft.github.io/monaco-editor/) - The code editor that powers VS Code

**State & Utils**
*   [Zustand](https://github.com/pmndrs/zustand) - Bearbones state management

---

## ðŸ“¦ Installation & Development

1.  **Clone the repository**
    ```bash
    git clone https://github.com/alextreseder/wedm.xyz.git
    cd wedm.xyz
    ```

2.  **Install dependencies**
    ```bash
    npm install
    ```

3.  **Start the development server**
    ```bash
    npm run dev
    ```

4.  **Build for production**
    ```bash
    npm run build
    ```

---

## ðŸ—º Roadmap

*   [ ] **CAM Toolpath Generation**: Implement 2-axis profiling and 4-axis UV cuts.
*   [ ] **G-Code Post-Processing**: Custom post-processors for common EDM controllers (Sodick, Fanuc, Mitsubishi).
*   [ ] **Geometry Analysis**: Auto-detect die openings, punch perimeters, and start holes.
*   [ ] **Feature Recognition**: Automatic "Detect Wall" and "Detect Land" functionality.
